#include <iostream>
#include <vector>
#include <algorithm>
using namespace std;

class DSU {
public:
    vector<int> parent, rank;

    DSU(int n) {
        parent.resize(n);
        rank.resize(n, 0);
        for(int i=0;i<n;i++) parent[i] = i;
    }

    int find(int x) {
        if(parent[x] != x)
            parent[x] = find(parent[x]);
        return parent[x];
    }

    bool unite(int x, int y) {
        int rx = find(x), ry = find(y);
        if(rx == ry) return false;

        if(rank[rx] < rank[ry]) parent[rx] = ry;
        else if(rank[rx] > rank[ry]) parent[ry] = rx;
        else { parent[ry] = rx; rank[rx]++; }

        return true;
    }
};

int main() {
    int V = 5;
    vector<tuple<int,int,int>> edges = {
        {0,1,2}, {1,2,3}, {0,3,6},
        {1,3,8}, {3,4,9}
    };

    sort(edges.begin(), edges.end(),
         [](auto &a, auto &b){ return get<2>(a) < get<2>(b); });

    DSU dsu(V);
    int mst_cost = 0;

    cout << "Kruskal MST Edges:\n";
    for(auto &e : edges) {
        int u, v, w;
        tie(u,v,w) = e;

        if(dsu.unite(u,v)) {
            cout << u << " - " << v << " (" << w << ")\n";
            mst_cost += w;
        }
    }

    cout << "Total Weight = " << mst_cost;
    return 0;
}
